import{b as p,r as R,c as h,f as b,E as q,v as L,w as y,x as z,y as U,g as o,s as Y,z as w,A as T,d as x,m as B}from"./runtime.a2jmU_ql.js";import{h as C,H as F,r as H,n as D,g as M,P as $,z as k,A as G,B as V}from"./disclose-version._teVE01z.js";function J(a,f,i,l=null,m=!1){var r=null,t=null,n=null,u=m?q:0;p(()=>{if(n===(n=!!f()))return;let s=!1;if(C){const d=a.data===F;n===d&&(H(M),D(!1),s=!0)}n?(r?R(r):r=h(()=>i(a)),t&&b(t,()=>{t=null})):(t?R(t):l&&(t=h(()=>l(a))),r&&b(r,()=>{r=null})),s&&D(!0)},u)}function K(a,f,i,l){var A;var m=(i&k)!==0,r=(i&G)!==0,t=(i&V)!==0,n=a[f],u=(A=L(a,f))==null?void 0:A.set,s=l,d=!0,S=()=>(t&&d&&(d=!1,s=w(l)),s);n===void 0&&l!==void 0&&(u&&r&&y(),n=S(),u&&u(n));var _;if(r)_=()=>{var e=a[f];return e===void 0?S():(d=!0,e)};else{var g=(m?T:x)(()=>a[f]);g.f|=z,_=()=>{var e=o(g);return e!==void 0&&(s=void 0),e===void 0?s:e}}if(!(i&$))return _;if(u){var N=a.$$legacy;return function(e,v){return arguments.length>0?((!r||!v||N)&&u(v?_():e),e):_()}}var E=!1,P=B(n),c=T(()=>{var e=_(),v=o(P);return E?(E=!1,v):P.v=e});return m||(c.equals=U),function(e,v){var O=o(c);if(arguments.length>0){const I=v?o(c):e;return c.equals(I)||(E=!0,Y(P,I),o(c)),e}return O}}export{J as i,K as p};
