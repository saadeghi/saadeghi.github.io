import{b as p,r as A,c as h,f as b,E as q,C as L,D as y,F as z,G as C,g as o,s as F,z as H,H as D,d as U,m as Y}from"./index-client.DPNa-s5k.js";import{h as B,H as G,r as M,n as T,g as $,P as k,z as w,A as x,B as V}from"./disclose-version.BGX7ahjl.js";function J(a,f,i,l=null,m=!1){var r=null,t=null,n=null,u=m?q:0;p(()=>{if(n===(n=!!f()))return;let s=!1;if(B){const d=a.data===G;n===d&&(M($),T(!1),s=!0)}n?(r?A(r):r=h(()=>i(a)),t&&b(t,()=>{t=null})):(t?A(t):l&&(t=h(()=>l(a))),r&&b(r,()=>{r=null})),s&&T(!0)},u)}function K(a,f,i,l){var I;var m=(i&w)!==0,r=(i&x)!==0,t=(i&V)!==0,n=a[f],u=(I=L(a,f))==null?void 0:I.set,s=l,d=!0,S=()=>(t&&d&&(d=!1,s=H(l)),s);n===void 0&&l!==void 0&&(u&&r&&y(),n=S(),u&&u(n));var _;if(r)_=()=>{var e=a[f];return e===void 0?S():(d=!0,e)};else{var g=(m?D:U)(()=>a[f]);g.f|=z,_=()=>{var e=o(g);return e!==void 0&&(s=void 0),e===void 0?s:e}}if(!(i&k))return _;if(u){var N=a.$$legacy;return function(e,v){return arguments.length>0?((!r||!v||N)&&u(v?_():e),e):_()}}var E=!1,P=Y(n),c=D(()=>{var e=_(),v=o(P);return E?(E=!1,v):P.v=e});return m||(c.equals=C),function(e,v){var O=o(c);if(arguments.length>0){const R=v?o(c):e;return c.equals(R)||(E=!0,F(P,R),o(c)),e}return O}}export{J as i,K as p};
